<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Digital Inspection Bureau – Briefing</title>

  <!-- Shared CSS (now in /styles) -->
  <link rel="stylesheet" href="styles/styles.css" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Oswald:wght@400;600&family=IBM+Plex+Mono:wght@400;600&display=swap"
    rel="stylesheet"
  />
</head>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    // EDIT THESE STORIES:
    // believability: 1 (most believable) → 5 (most outlandish)
    const stories = [
      {
        source: "@LocalUpdate",
        time: "08:12 GMT",
        text: "Council confirms temporary road closures due to maintenance. Expect delays this week.",
        believability: 1
      },
      {
        source: "@HealthWatch",
        time: "11:44 GMT",
        text: "A viral post claims a ‘hidden ingredient’ is making people ill. No evidence or source is given.",
        believability: 2
      },
      {
        source: "@BreakingNow",
        time: "14:03 GMT",
        text: "This is an unbelievable disaster. Share now before it is removed.",
        believability: 3
      },
      {
        source: "@TruthSignal",
        time: "18:20 GMT",
        text: "A thread claims ‘experts are silenced’ and insists only one solution is allowed. Links go to unknown blogs.",
        believability: 4
      },
      {
        source: "@UltraReveal",
        time: "22:51 GMT",
        text: "A post says a secret device controls thoughts through streetlights. It demands urgent donations within 24 hours.",
        believability: 5
      }
    ];

    let index = 0;

    const evidenceTextEl = document.getElementById("evidenceText");
    const prevBtn = document.getElementById("prevStory");
    const nextBtn = document.getElementById("nextStory");
    const meterFillEl = document.getElementById("evidenceMeterFill");
    const meterReadoutEl = document.getElementById("evidenceMeterReadout");

    function escapeHtml(str) {
      return String(str)
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }

    function render() {
      const story = stories[index];

      evidenceTextEl.innerHTML =
        "SOURCE: " + escapeHtml(story.source) + "<br />" +
        "TIME: " + escapeHtml(story.time) + "<br />" +
        "TEXT: “" + escapeHtml(story.text) + "”";

      const clamped = Math.min(5, Math.max(1, story.believability));
      const percent = ((clamped - 1) / 4) * 100; // 0 → 100
      meterFillEl.style.width = percent + "%";
      meterReadoutEl.textContent = clamped + " / 5";

      prevBtn.disabled = index === 0;
      nextBtn.disabled = index === stories.length - 1;
    }

    prevBtn.addEventListener("click", () => {
      if (index > 0) {
        index -= 1;
        render();
      }
    });

    nextBtn.addEventListener("click", () => {
      if (index < stories.length - 1) {
        index += 1;
        render();
      }
    });

    render();
  });
</script>

<body>
  <header class="site-header">
    <div class="site-brand">
      <span class="site-code">DIB-01</span>
      <h1>Digital Inspection Bureau</h1>
      <p class="site-subtitle">Training Portal for Social Media Inspectors</p>
    </div>
    <div class="site-status">
      <span class="status-light status-online"></span>
      <span class="status-label">SYSTEM ONLINE</span>
    </div>
  </header>

  <nav class="top-nav">
    <a href="index.html" class="nav-link nav-link-active">Briefing</a>
    <a href="pages/tutorials.html" class="nav-link">Tutorials</a>
    <a href="pages/rubric.html" class="nav-link">Rubric</a>
    <a href="pages/learning.html" class="nav-link">We Are Learning To</a>
    <a href="pages/challenge.html" class="nav-link">Challenge</a>
  </nav>

  <main class="layout">
    <section class="layout-main">
      <article class="card dossier-card">
        <header class="card-header">
          <span class="card-code">CASE FILE: SM-2025-A</span>
          <h2>Briefing: Your Mission</h2>
        </header>
        <p>
          You are a junior inspector in the Digital Inspection Bureau. Your task is to investigate
          news stories, posts, and videos to decide whether they are informing people or trying to
          manipulate them.
        </p>
        <p>
          On this site, you will learn how to spot manipulation, use a scorecard to rate real
          stories, and then build your own <strong>Papers, Please–style</strong> inspection game
          using <strong>MakeCode Arcade</strong>.
        </p>

        <div class="stamp-box">
          <span class="stamp-label">TRAINING MODE</span>
        </div>
      </article>

      <section class="grid grid-2">
        <article class="card mission-card">
          <header class="card-header">
            <span class="card-code">MISSION 01</span>
            <h3>Learn the Signals</h3>
          </header>
          <p>
            Explore the <strong>Rubric</strong> page to learn 20 signals of social media
            manipulation. You will use these as rules in your game.
          </p>
          <a href="pages/rubric.html" class="stamp-button">OPEN RUBRIC</a>
        </article>

        <article class="card mission-card">
          <header class="card-header">
            <span class="card-code">MISSION 02</span>
            <h3>Build the Game</h3>
          </header>
          <p>
            Follow the <strong>Tutorials</strong> to create a MakeCode Arcade game where players
            inspect digital stories and stamp them <strong>APPROVED</strong> or
            <strong>FLAGGED</strong>.
          </p>
          <a href="pages/tutorials.html" class="stamp-button">OPEN TUTORIALS</a>
        </article>
      </section>

      <section class="card">
        <header class="card-header">
          <span class="card-code">NOTE TO INSPECTORS</span>
          <h3>How this site works</h3>
        </header>
        <ul class="bullet-list">
          <li><strong>Briefing:</strong> Overview of the project and expectations.</li>
          <li><strong>Tutorials:</strong> Step-by-step MakeCode Arcade lessons.</li>
          <li><strong>Rubric:</strong> Scorecard for analysing stories and games.</li>
          <li><strong>We Are Learning To:</strong> Learning objectives and success criteria.</li>
          <li><strong>Challenge:</strong> Final design brief for your own inspection game.</li>
        </ul>
      </section>
    </section>

 <aside class="layout-side">
  <!-- Evidence Viewer (Carousel) -->
  <section class="card evidence-card">
    <header class="card-header">
      <span class="card-code">SCREEN 01</span>
      <h3>Evidence Viewer</h3>
    </header>

    <p class="evidence-caption">
      Use the arrows to cycle through stories (from believable to outlandish).
      These examples are editable in the page’s script.
    </p>

    <div class="evidence-screen" id="evidenceScreen">
      <p class="mono" id="evidenceText"><!-- Filled by JavaScript --></p>
    </div>

    <div class="evidence-controls">
      <button type="button" class="evidence-btn" id="prevStory">◀ Prev</button>

      <div class="evidence-meter">
        <div class="mono small evidence-meter-label">
          Believable <span aria-hidden="true">→</span> Outlandish
        </div>
        <div class="evidence-meter-track" aria-hidden="true">
          <div class="evidence-meter-fill" id="evidenceMeterFill"></div>
        </div>
        <div class="mono small evidence-meter-readout" id="evidenceMeterReadout">
          1 / 5
        </div>
      </div>

      <button type="button" class="evidence-btn" id="nextStory">Next ▶</button>
    </div>
  </section>

  <section class="card">
    <header class="card-header">
      <span class="card-code">CHECKLIST</span>
      <h3>Before You Start</h3>
    </header>
    <ul class="bullet-list">
      <li>Access to MakeCode Arcade.</li>
      <li>A rubric copy (printed or digital).</li>
      <li>Example social media story to analyse.</li>
    </ul>
  </section>
</aside>


  <footer class="site-footer">
    <span class="mono">DIB TRAINING PORTAL · VERSION 1.0</span>
  </footer>
</body>
</html>
